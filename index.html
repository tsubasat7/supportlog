<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SupportLog â€” æ–½è¨­å‘ã‘ å¿ƒç†æ”¯æ´ã‚¢ãƒ—ãƒªï¼ˆAdlerãƒ™ãƒ¼ã‚¹ï¼‰</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#60a5fa;--muted:#94a3b8;--good:#059669;--warn:#f97316;--danger:#ef4444;}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial; background:linear-gradient(180deg,#071027 0%, #071827 60%);color:#e6eef8}
    .wrap{max-width:1100px;margin:24px auto;padding:18px}
    header{display:flex;align-items:center;gap:18px}
    h1{margin:0;font-size:20px}
    .roles{margin-left:auto;display:flex;gap:8px}
    .role-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 10px;border-radius:8px;color:var(--muted);cursor:pointer}
    .role-btn.active{border-color:rgba(96,165,250,0.9);color:var(--accent)}
    main{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    .row{display:flex;gap:8px}
    input[type='range']{width:100%}
    textarea{width:100%;min-height:96px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);padding:10px;background:transparent;color:inherit}
    .small{font-size:12px;color:var(--muted)}
    .btn{background:var(--accent);color:#06203b;border:none;padding:8px 12px;border-radius:10px;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
    .log-list{max-height:420px;overflow:auto;margin-top:10px}
    .log-item{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);margin-bottom:8px}
    .tag{font-size:12px;padding:4px 8px;border-radius:999px;background:rgba(255,255,255,0.02);display:inline-block;margin-right:8px}
    .suggest{background:linear-gradient(90deg,#04202a, #062434);padding:10px;border-radius:8px;margin-top:8px}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    .flex-col{display:flex;flex-direction:column;gap:8px}
    .priority{display:flex;gap:8px;flex-wrap:wrap}
    .danger{color:var(--danger)}
    .warn{color:var(--warn)}
    .good{color:var(--good)}
    .divider{height:1px;background:rgba(255,255,255,0.02);margin:10px 0}
    .role-note{font-size:13px;color:var(--muted);margin-top:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>SupportLog â€” æ–½è¨­å‘ã‘ å¿ƒç†æ”¯æ´ã‚¢ãƒ—ãƒªï¼ˆAdler-informedï¼‰</h1>
      <div class="roles" aria-hidden>
        <button id="role-self" class="role-btn">æœ¬äººå…¥åŠ›</button>
        <button id="role-staff" class="role-btn active">ã‚¹ã‚¿ãƒƒãƒ•å…¥åŠ›</button>
        <button id="role-family" class="role-btn">å®¶æ—å…¥åŠ›</button>
      </div>
    </header>

    <main>
      <section class="card">
        <div class="flex-col">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <label>å¯¾è±¡ï¼ˆID / åå‰ï¼‰</label>
              <input id="target" placeholder="ä¾‹: å±±ç”°å¤ªéƒ" style="width:260px;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" />
            </div>
            <div>
              <label>æ—¥æ™‚</label>
              <div id="now" class="small"></div>
            </div>
          </div>

          <div class="divider"></div>

          <label>æ„Ÿæƒ…ï¼ˆ0:éå¸¸ã«ä½ã„ â†’ 10:éå¸¸ã«é«˜ã„ï¼‰</label>
          <input id="mood" type="range" min="0" max="10" value="5" />
          <div class="row"><div class="small">ç¾åœ¨ã®å€¤: <span id="mood-val">5</span></div><div style="margin-left:auto" class="small">éå»å¹³å‡: <span id="mood-avg">--</span></div></div>

          <label style="margin-top:8px">ã‚¨ãƒãƒ«ã‚®ãƒ¼ / æ´»å‹•æ€§ï¼ˆ0-10ï¼‰</label>
          <input id="energy" type="range" min="0" max="10" value="5" />

          <label style="margin-top:8px">ä¸»è¦³ãƒ¡ãƒ¢ï¼ˆå‡ºæ¥äº‹ãƒ»è¦³å¯Ÿãƒ»ç™ºè¨€ãªã©ï¼‰</label>
          <textarea id="note" placeholder="ä¾‹: æœé£Ÿã‚’æ‹’å¦ã€‚åˆå‰ä¸­ã«è½ã¡ç€ã‹ãšã€çª“ã‚’å©ãç™ºè¨€ã‚ã‚Šã€‚"></textarea>

          <label style="margin-top:8px">ã‚¿ã‚°ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰</label>
          <input id="tags" placeholder="ä¾‹: éé›†ä¸­,ç¡çœ ä¸è¶³" style="padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" />

          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="save" class="btn">è¨˜éŒ²ã—ã¦åˆ¤å®š</button>
            <button id="quick-family" class="btn ghost">å®¶æ—ã¸ãƒ†ãƒ³ãƒ—ãƒ¬é€ä¿¡</button>
            <button id="export" class="role-btn">CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
          </div>

          <div class="role-note" id="role-note">æ“ä½œã¯ã‚¹ã‚¿ãƒƒãƒ•ãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚å…¥åŠ›è€…ã‚’åˆ‡ã‚Šæ›¿ãˆã¦é‹ç”¨ã—ã¦ãã ã•ã„ã€‚</div>

          <div class="divider"></div>

          <div>
            <label>è‡ªå‹•åˆ¤å®šï¼ˆç°¡æ˜“ï¼‰</label>
            <div id="diagnosis" class="suggest small">ã¾ã è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</div>
            <div id="adler-suggestion" class="suggest small" style="margin-top:6px">ã‚¢ãƒ‰ãƒ©ãƒ¼å¿ƒç†å­¦ã«åŸºã¥ãæ”¯æ´ãƒ¡ãƒ¢ã¯ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>
          </div>

        </div>
      </section>

      <aside class="card">
        <div>
          <h3 style="margin:0">ãƒ­ã‚°</h3>
          <div class="small">éå»ã®è¨˜éŒ²ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ï¼‰</div>
          <div class="log-list" id="log-list" aria-live="polite"></div>

          <div class="divider"></div>
          <label>å³æ™‚å¯¾å¿œãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆã‚¹ã‚¿ãƒƒãƒ•ï¼‰</label>
          <div class="priority" id="staff-templates">
            <div class="tag">ç©ã‚„ã‹ã«æ¥ã™ã‚‹</div>
            <div class="tag">çŸ­ã„è‚¯å®šï¼ˆä¾‹: ã‚ˆãçŸ¥ã‚‰ã›ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ï¼‰</div>
            <div class="tag">è¡Œå‹•ã®åˆ†é›¢ï¼ˆä¾‹: ã€Œè¡Œç‚ºã¯å•é¡Œã€äººã¯ç„¡é–¢ä¿‚ã€ï¼‰</div>
          </div>

          <div style="margin-top:8px">
            <label>å®¶æ—é€ä¿¡ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬</label>
            <div class="small">å®¶æ—å‘ã‘ã«ã¯å®‰å¿ƒã‚’å„ªå…ˆã—ãŸè¡¨ç¾ã€‚è¨ºæ–­ã‚„å°‚é–€çš„è¡¨ç¾ã¯é¿ã‘ã¾ã™ã€‚</div>
            <div id="family-template" class="suggest small" style="margin-top:6px"></div>
          </div>

          <div class="divider"></div>
          <label>æ³¨æ„ã‚µã‚¤ãƒ³</label>
          <div id="signs" class="small">ã“ã“ã«é‡å¤§ãªã‚µã‚¤ãƒ³ï¼ˆè‡ªå‚·å¿µæ…®ã€æ€¥æ€§æ··ä¹±ãªã©ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>

        </div>
      </aside>
    </main>

    <footer class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <strong>é‹ç”¨ãƒ’ãƒ³ãƒˆ</strong>
          <div class="small">è¨˜éŒ²ã¯æ—¥ä»˜ã¨å¯¾è±¡ã‚’æ˜ç¢ºã«ã€‚é‡å¤§äº‹è±¡ã¯é›»è©±ã§ç›´æ¥é€£çµ¡å¾Œã€ã“ã“ã«è¨˜éŒ²ã—ã¦ãã ã•ã„ã€‚</div>
        </div>
        <div>
          <button id="clear" class="role-btn">ãƒ­ãƒ¼ã‚«ãƒ«ã‚’æ¶ˆå»</button>
        </div>
      </div>
    </footer>
  </div>

  <script>
    // --- Simple facility-ready single-file app
    const nowEl = document.getElementById('now');
    const mood = document.getElementById('mood');
    const moodVal = document.getElementById('mood-val');
    const energy = document.getElementById('energy');
    const note = document.getElementById('note');
    const tags = document.getElementById('tags');
    const save = document.getElementById('save');
    const logList = document.getElementById('log-list');
    const diagnosis = document.getElementById('diagnosis');
    const adlerSuggestion = document.getElementById('adler-suggestion');
    const familyTemplate = document.getElementById('family-template');
    const roleNote = document.getElementById('role-note');
    const roleSelf = document.getElementById('role-self');
    const roleStaff = document.getElementById('role-staff');
    const roleFamily = document.getElementById('role-family');
    const target = document.getElementById('target');
    const quickFamily = document.getElementById('quick-family');
    const exportBtn = document.getElementById('export');
    const clearBtn = document.getElementById('clear');

    function nowStr(){ const d=new Date(); return d.toLocaleString(); }
    nowEl.textContent = nowStr();
    setInterval(()=>nowEl.textContent = nowStr(), 60000);

    mood.addEventListener('input', ()=> moodVal.textContent = mood.value);

    // role management
    let role = 'staff';
    function setRole(r){ role=r; [roleSelf,roleStaff,roleFamily].forEach(b=>b.classList.remove('active')); document.getElementById('role-'+r).classList.add('active'); roleNote.textContent = (r==='staff')? 'æ“ä½œã¯ã‚¹ã‚¿ãƒƒãƒ•ãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚å…¥åŠ›è€…ã‚’åˆ‡ã‚Šæ›¿ãˆã¦é‹ç”¨ã—ã¦ãã ã•ã„ã€‚' : (r==='self')? 'æœ¬äººå…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ï¼šè³ªå•ã¯ç°¡æ½”ã«ã€‚ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã«é…æ…®ã—ã¦è¨˜éŒ²ã—ã¦ãã ã•ã„ã€‚' : 'å®¶æ—å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ï¼šè¦³å¯Ÿã¨äº‹å®Ÿã‚’ä¸­å¿ƒã«è¨˜éŒ²ã—ã¦ãã ã•ã„ã€‚'; }
    [roleSelf,roleStaff,roleFamily].forEach(b=>b.addEventListener('click', ()=> setRole(b.id.replace('role-',''))));
    setRole('staff');

    // storage
    const KEY = 'supportlog_records_v1';
    function load(){ try{ return JSON.parse(localStorage.getItem(KEY) || '[]') } catch(e){return []} }
    function saveAll(arr){ localStorage.setItem(KEY, JSON.stringify(arr)) }
    function addRecord(rec){ const a=load(); a.unshift(rec); saveAll(a); renderLogs(); }

    // render
    function renderLogs(){ const a=load(); logList.innerHTML=''; a.slice(0,200).forEach(r=>{ const e=document.createElement('div'); e.className='log-item'; e.innerHTML = `<div style="display:flex;align-items:center;justify-content:space-between"><div><strong>${r.target||'â”€â”€'}</strong> <span class="small">(${r.role})</span></div><div class="small">${r.time}</div></div><div class="small">Mood:${r.mood} Energy:${r.energy} Tags:${r.tags||''}</div><div style="margin-top:6px">${escapeHtml(r.note||'')}</div>`; logList.appendChild(e); }); updateAverages(); }

    function escapeHtml(s){ return (s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;'); }

    function updateAverages(){ const a=load(); if(!a.length){ document.getElementById('mood-avg').textContent='--'; return;} const avg = (a.reduce((s,x)=>s+Number(x.mood||0),0)/a.length).toFixed(1); document.getElementById('mood-avg').textContent = avg; }

    renderLogs();

    // simple anomaly & support logic
    function simpleDiagnosis(rec){
      // rules: low energy + low mood -> watch for withdrawal
      const m = Number(rec.mood), e = Number(rec.energy);
      let flags = [];
      if(m<=2 && e<=3) flags.push('withdrawal');
      if(m>=8 && e>=8) flags.push('overactivation');
      if(rec.tags && rec.tags.includes('è¢«å®³å¦„æƒ³')) flags.push('paranoid');
      if(rec.tags && rec.tags.includes('è‡ªå‚·')) flags.push('selfharm');
      if(rec.note && /è‡ªæ®º|æ­»ã«ãŸã„|æ¶ˆãˆãŸã„/.test(rec.note)) flags.push('suicidal_language');
      return flags;
    }

    function adlerAdvice(rec,flags){
      // produce short guidance lines based on Adler psychology and staff/family role
      const adv = [];
      // base: encourage courage, separate task and person
      adv.push('çŸ­ã„å‹‡æ°—ã¥ã‘ã‚’ä½¿ã†: ã€Œã‚ˆãçŸ¥ã‚‰ã›ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã€‚ä»Šã®ã“ã¨ã‚’ä¸€ç·’ã«è€ƒãˆã¾ã—ã‚‡ã†ã€‚ã€');
      adv.push('èª²é¡Œã®åˆ†é›¢: è¡Œå‹•ã¯å•é¡Œã€æœ¬äººã¯ä¾¡å€¤ã‚ã‚‹å­˜åœ¨ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™çŸ­æ–‡ã‚’å…¥ã‚Œã‚‹ã€‚');
      if(flags.includes('withdrawal')) adv.push('è¦³å¯Ÿ: å°ã•ãªå…±åŒä½œæ¥­ï¼ˆé£²ã¿ç‰©ã‚’ä¸€ç·’ã«ç”¨æ„ç­‰ï¼‰ã§ç¤¾ä¼šçš„ç¹‹ãŒã‚Šã‚’ä¿ƒé€²ã€‚');
      if(flags.includes('overactivation')) adv.push('è½ã¡ç€ã‘ã‚‹çŸ­ã„è¡Œå‹•ææ¡ˆ: æ·±å‘¼å¸3å›â†’çŸ­ã„ç§»å‹•ï¼ˆæ¤…å­ã«åº§ã‚‹ï¼‰ãªã©');
      if(flags.includes('paranoid')) adv.push('è¢«å®³æ„ŸãŒã‚ã‚‹å ´åˆã¯å¦å®šã›ãšã€Œãã‚Œã¯ä¸å®‰ã§ã™ã­ã€‚ä»Šã¯å®‰å…¨ã§ã™ã€ã¨å®‰å¿ƒã‚’å„ªå…ˆ');
      if(flags.includes('selfharm')||flags.includes('suicidal_language')) adv.push('**å®‰å…¨å¯¾å¿œå¿…é ˆ**: ç›´ã¡ã«åŒ»ç™‚é€£æºãƒ»ä¸Šä½è€…ã¸é€£çµ¡ã€‚ç·Šæ€¥ãªã‚‰æ•‘æ€¥å¯¾å¿œã€‚');
      return adv;
    }

    function familyTemplateFor(rec,flags){
      // neutral, non-alarming family message
      const parts = [];
      parts.push(`${rec.time} ã®è¨˜éŒ²: ${rec.target || 'å¯¾è±¡'} ã®æ§˜å­ã‚’è¦³å¯Ÿã—ã¾ã—ãŸã€‚`);
      parts.push(`çŸ­ã: æ°—åˆ†(${rec.mood}/10), æ´»å‹•(${rec.energy}/10)ã€‚`);
      if(rec.note) parts.push(`è¦³å¯Ÿãƒ¡ãƒ¢: ${rec.note}`);
      parts.push('å¯¾å¿œæ–¹é‡: å½“é¢ã¯å®‰å®šåŒ–ã‚’å„ªå…ˆã—ã€è½ã¡ç€ã„ãŸæ¥ã—æ–¹ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚');
      if(flags.includes('suicidal_language')||flags.includes('selfharm')) parts.push('ç·Šæ€¥æ€§ãŒã‚ã‚‹ãŸã‚ã€åŒ»ç™‚å¯¾å¿œã‚’æ¤œè¨ã—ã¦ã„ã¾ã™ï¼ˆæ–½è¨­å†…ã§ç›¸è«‡æ¸ˆï¼‰ã€‚');
      return parts.join('\n');
    }

    save.addEventListener('click', ()=>{
      const rec = {
        time: new Date().toLocaleString(),
        role, target: target.value.trim(), mood: mood.value, energy: energy.value, note: note.value.trim(), tags: tags.value.trim(), meta: {ua: navigator.userAgent}
      };
      // detect flags
      const flags = simpleDiagnosis(rec);
      addRecord(rec);

      // update UI diagnosis and suggestions
      if(flags.length===0){ diagnosis.textContent = 'åˆ¤å®š: é€šå¸¸ãƒ¬ãƒ³ã‚¸ï¼ˆè¦³å¯Ÿç¶™ç¶šï¼‰ã€‚'; diagnosis.className='suggest small'; }
      else if(flags.includes('suicidal_language')||flags.includes('selfharm')){ diagnosis.innerHTML = '<strong class="danger">ç·Šæ€¥ã‚µã‚¤ãƒ³æ¤œçŸ¥ â€” åŒ»ç™‚é€£æºã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„</strong>'; }
      else { diagnosis.textContent = 'åˆ¤å®š: æ³¨æ„ã‚µã‚¤ãƒ³ã‚ã‚Š â€” è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚'; }

      const adv = adlerAdvice(rec, flags);
      adlerSuggestion.innerHTML = adv.map(s=>'â€¢ '+s).join('<br>');

      familyTemplate.textContent = familyTemplateFor(rec, flags);

      alert('è¨˜éŒ²å®Œäº† â€” ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã•ã‚Œã€åˆ¤å®šã¨æ”¯æ´æ¡ˆã‚’ç”»é¢ã«è¡¨ç¤ºã—ã¾ã—ãŸã€‚');
    });

    quickFamily.addEventListener('click', ()=>{ if(!familyTemplate.textContent) return alert('ã¾ãšè¨˜éŒ²ã—ã¦ãã ã•ã„'); navigator.clipboard.writeText(familyTemplate.textContent).then(()=>alert('å®¶æ—å‘ã‘ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸã€‚')) });

    exportBtn.addEventListener('click', ()=>{
      const a = load(); if(!a.length) return alert('ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“');
      const csv = ['time,target,role,mood,energy,tags,note'].concat(a.map(r=>`${csvSafe(r.time)},${csvSafe(r.target)},${csvSafe(r.role)},${r.mood},${r.energy},${csvSafe(r.tags)},${csvSafe(r.note)}`)).join('\n');
      const blob = new Blob([csv], {type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const ael = document.createElement('a'); ael.href=url; ael.download = 'supportlog_export.csv'; document.body.appendChild(ael); ael.click(); ael.remove(); URL.revokeObjectURL(url);
    });

    function csvSafe(s){ if(!s) return '""'; return '"'+(s.replace(/"/g,'""'))+'"'; }

    clearBtn.addEventListener('click', ()=>{ if(confirm('ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã•ã‚ŒãŸå…¨ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')){ localStorage.removeItem(KEY); renderLogs(); } });

    // initial demo content
    if(!load().length){ addRecord({time: new Date().toLocaleString(), role:'system', target:'ãƒ‡ãƒ¢: ä½è—¤', mood:6, energy:5, tags:'', note:'æœã«å°‘ã—è½ã¡ç€ããŒãªã„æ§˜å­ã€‚', meta:{}}); }

  </script>
</body>
</html>

<!-- â–¼â–¼ æ„Ÿè¦šçš„UIãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆæ•°å€¤ã®ä»£æ›¿è¡¨ç¤ºï¼‰è¿½è¨˜ 2025-12-09 â–¼â–¼ -->
<section id="sense-ui" style="margin-top:24px;padding:16px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.08)">
  <h2 style="font-size:20px;margin-bottom:8px">ã„ã¾ã®çŠ¶æ…‹ï¼ˆæ„Ÿè¦šè¡¨ç¤ºï¼‰</h2>
  <p id="sense-label" style="font-size:18px;margin:6px 0">ğŸŸ¢ å®‰å®š</p>
  <div style="height:16px;background:#eee;border-radius:999px;overflow:hidden">
    <div id="sense-bar" style="height:100%;width:20%;background:linear-gradient(90deg,#6ee7b7,#34d399)"></div>
  </div>
  <p id="sense-message" style="margin-top:10px;font-size:14px">ä»Šæ—¥ã¯ç„¡ç†ã›ãšã€ä»Šã§ãã¦ã„ã‚‹ã“ã¨ã‚’ç¶šã‘ã‚‹æ—¥ã§ã™ã€‚</p>
</section>

<script>
// æ•°å€¤â†’æ„Ÿè¦šå¤‰æ›ãƒãƒƒãƒ”ãƒ³ã‚°
function toSenseView(score){
  let label="ğŸŸ¢ å®‰å®š";
  let msg="ä»Šæ—¥ã¯ç„¡ç†ã›ãšã€ä»Šã§ãã¦ã„ã‚‹ã“ã¨ã‚’ç¶šã‘ã‚‹æ—¥ã§ã™ã€‚";
  let width="20%";
  if(score>=25 && score<50){label="ğŸŸ¡ ã‚„ã‚„æ³¨æ„";msg="å°‘ã—ç–²ã‚ŒãŒå‡ºã‚„ã™ã„çŠ¶æ…‹ã€‚ä¼‘æ†©ã‚’æ„è­˜ã—ã¾ã—ã‚‡ã†ã€‚";width="45%";}
  if(score>=50 && score<75){label="ğŸŸ  è¦ã‚µãƒãƒ¼ãƒˆ";msg="ç„¡ç†ãŒé‡ãªã‚Šã‚„ã™ã„æ™‚æœŸã€‚èª°ã‹ã«é ¼ã£ã¦OKã§ã™ã€‚";width="70%";}
  if(score>=75){label="ğŸ”´ ç·Šæ€¥";msg="ä»Šã¯ä¸€äººã§æŠ±ãˆãšã€ã™ãå‘¨å›²ã¨ç›¸è«‡ã—ã¾ã—ã‚‡ã†ã€‚";width="95%";}
  document.getElementById("sense-label").innerText=label;
  document.getElementById("sense-message").innerText=msg;
  document.getElementById("sense-bar").style.width=width;
}

// æ—¢å­˜ã®æ•°å€¤çµæœãŒã‚ã‚‹å‰æã§è‡ªå‹•åæ˜ ï¼ˆscoreå¤‰æ•°ãŒã‚ã‚Œã°å¸åï¼‰
try{
  if(typeof score !== 'undefined') toSenseView(score);
}catch(e){console.log("sense-ui standby");}
</script>
<!-- â–²â–² æ„Ÿè¦šçš„UIãƒ¬ã‚¤ãƒ¤ãƒ¼ è¿½è¨˜ã“ã“ã¾ã§ â–²â–² -->

