<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é‹å‘½ã®å…­å±æ€§è¨ºæ–­ï¼ˆå†…éƒ¨ãƒ„ãƒ¼ãƒ«ï¼‰</title>

<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",Arial;
  background:#ffffff;
  color:#222;
  margin:0;
}
header{
  border-bottom:1px solid #eee;
  padding:16px 24px;
}
h1{margin:0;font-size:22px}
.container{
  max-width:960px;
  margin:auto;
  padding:24px;
}
.mode-select button{
  margin-right:8px;
  padding:10px 16px;
  border-radius:20px;
  border:1px solid #ddd;
  background:#fff;
  cursor:pointer;
}
.mode-select button.active{
  background:#222;
  color:#fff;
}
.card{
  border:1px solid #e5e5e5;
  border-radius:18px;
  padding:22px;
  margin-bottom:20px;
}
label{display:block;margin-top:12px}
input,select{
  width:100%;
  padding:8px;
  margin-top:4px;
}
button.run{
  margin-top:16px;
  padding:12px 20px;
  border-radius:24px;
  border:none;
  background:#222;
  color:#fff;
  font-size:15px;
}
small{color:#666}
</style>
</head>

<body>

<header>
<h1>ğŸ”® é‹å‘½ã®å…­å±æ€§è¨ºæ–­ï¼ˆå ã„å¸«ç”¨ãƒ»å†…éƒ¨ãƒ„ãƒ¼ãƒ«ï¼‰</h1>
<small>â€»æ¥å®¢ã«ã¯çµæœã®ã¿æç¤º</small>
</header>

<div class="container">

<!-- ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼ˆå€‹äººãƒ»ç›¸æ€§ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ -->
<section class="mode-select">
<button onclick="setMode('single')" class="active">å€‹äººè¨ºæ–­</button>
<button onclick="setMode('pair')">ç›¸æ€§è¨ºæ–­</button>
<button onclick="setMode('group')">ã‚°ãƒ«ãƒ¼ãƒ—è¨ºæ–­</button>
</section>

<!-- å…¥åŠ› -->
<section class="card">
<h2>è¨ºæ–­å¯¾è±¡å…¥åŠ›</h2>

<label>åå‰</label>
<input id="name" placeholder="ä¾‹ï¼šæ±ŸåŸ å•“ä»‹">

<label>ç”Ÿå¹´æœˆæ—¥</label>
<input id="birth" type="date">

<label>å‘½æ•°ï¼ˆå†…éƒ¨è¨ˆç®—æ¸ˆãªã‚‰ç›´æ¥å…¥åŠ›ï¼‰</label>
<input id="meisuu" type="number" placeholder="ä¾‹ï¼š53">

<label>æ‰‹ç›¸ã‚¿ã‚¤ãƒ—</label>
<select id="palm">
  <option value="æ™©æˆå‹">æ™©æˆå‹</option>
  <option value="æ”¯æ´å‹">æ”¯æ´å‹</option>
  <option value="è‡ªç”±å‹">è‡ªç”±å‹</option>
  <option value="çµ±ç‡å‹">çµ±ç‡å‹</option>
</select>

<button class="run" onclick="analyze()">è¨ºæ–­ã™ã‚‹</button>
</section>

<!-- çµæœ -->
<section id="result"></section>

</div>

<script>
let mode="single";
function setMode(m){
  mode=m;
  document.querySelectorAll(".mode-select button")
    .forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");
}

async function j(p){return fetch(p).then(r=>r.json())}

async function analyze(){
  const name=document.getElementById("name").value;
  const meisuu=document.getElementById("meisuu").value;
  const palmType=document.getElementById("palm").value;

  const traits=await j("data/flattype_traits.json");
  const story=await j("data/story.json");
  const numerology=await j("data/numerology.json");
  const palm=await j("data/palmistry.json");
  const nameJudge=await j("data/name_judge.json");
  const comp=await j("data/compatibility.json");

  const t=traits[meisuu];
  const s=story[meisuu];
  const n=numerology[meisuu];
  const p=palm[palmType];
  const nj=nameJudge.sample;

  document.getElementById("result").innerHTML=`
  <section class="card">
    <h2>${name} ã•ã‚“ã®è¨ºæ–­çµæœ</h2>
    <small>å‘½æ•° ${meisuu}ï½œ${n.zodiac}ï¼ˆ${n.metal}ï¼‰</small>

    <h3>â–  æ€§æ ¼ãƒ»æœ¬è³ª</h3>
    <p>${t.core}</p>

    <h3>â–  éå»ãƒ»è‚²ã¡ã®å‚¾å‘</h3>
    <p>${s.past}</p>

    <h3>â–  è¡Œå‹•ç‰¹æ€§ãƒ»æ‰‹ç›¸è£œæ­£</h3>
    <p>${t.action}<br>${p.trait}</p>

    <h3>â–  ç›¸æ€§ãƒ¯ãƒ³ãƒã‚¤ãƒ³ãƒˆ</h3>
    <p>${comp.summary}</p>

    <h3>â–  å§“ååˆ¤æ–­è£œæ­£</h3>
    <p>${nj.pattern}<br>${nj.note}</p>

    <h3>â–  ç·åˆåŠ©è¨€</h3>
    <p>${t.advice}</p>
  </section>`;
}
</script>

</body>
</html>
